<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
		<function model="camp.registration" name="_update_ir_model"/>
		
        <!-- Top menu item -->
        <menuitem name="Camp Registration"
            id="Camp_registraion_main_menu"
           />
           
        <menuitem name="Configuration"
            id="camp_registraion_config_menu" parent="Camp_registraion_main_menu"
            sequence="15"/>   


		<record id="camp_week_selection_tree" model="ir.ui.view">
            <field name="name">camp.week.selection.tree</field>
            <field name="model">camp.week.selection</field>
            <field name="arch" type="xml">
                <tree string="Camp Week Selection">
                	<field name="name"/>
                	<field name="code"/>
                	<field name="date_from"/>
                	<field name="date_to"/>
                </tree>
            </field>
        </record>
        
        <record id="camp_week_selection_form" model="ir.ui.view">
            <field name="name">camp.week.selection.form</field>
            <field name="model">camp.week.selection</field>
            <field name="arch" type="xml">
                <form string="Camp Week Selection">
                	<header>
                	</header>
                	<sheet>
                        <group>
                        	<group>
                        		<field name="name"/>
                        		<field name="date_from"/>
                        	</group>
                        	<group>
                        		<field name="code"/>
                        		<field name="date_to"/>
                        	</group>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
                        	
		<record id="action_camp_week_selection" model="ir.actions.act_window">
            <field name="name">Camp Week Selection</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">camp.week.selection</field>
            <field name="view_mode">tree,form</field>
        </record>

        <menuitem action="action_camp_week_selection" name="Camp Week Selection"
            id="action_camp_week_selection_menu" parent="camp_registraion_config_menu"
            sequence="1"/>

		
        <record id="camp_registraion_tree" model="ir.ui.view">
            <field name="name">camp.registration.tree</field>
            <field name="model">camp.registration</field>
            <field name="arch" type="xml">
                <tree string="Camp Registration">
                	<field name="name"/>
                	<field name="ref_code"/>
                	<field name="child_name"/>
                	<field name="parent_name"/>
                </tree>
            </field>
        </record>

        <record id="camp_registraion_form" model="ir.ui.view">
            <field name="name">camp.registration.form</field>
            <field name="model">camp.registration</field>
            <field name="arch" type="xml">
                <form string="Camp Registration">
                	<header>
						<button name="create_rental_quote" string="Create Rental Quote" type="object" class="btn-primary" attrs="{'invisible': [('sale_order_id', '!=',False)]}"/>/>
                		<field name="state" widget="statusbar"  statusbar_visible="active,scrapped"/>
                	</header>
                	<sheet>
                        <group>
                        	<group>
                        		<field name="ref_code"/>
                        	</group>
                        	<group>
								<field name="sale_order_id"/>
                        	</group>
                        	<group>
                        		<field name="child_name"/>
                        		<field name="child_family_name"/>
                        		<field name="child_dob"/>
                        	</group>
                        	<group>
								<field name="name" invisible="1" />
                        		<field name="parent_name" />
                        		<field name="parent_family_name"/>
                        		<field name="parent_social_insurance" />
                        	</group>
                        </group>
						<group>
                        	<group>
                        		<field name="civic_number"/>
                        		<field name="city"/>
                        		<field name="postal_code"/>
                        	</group>
                        	<group>
                        		<field name="email"/>
								<field name="tele_phone"/>
                        	</group>
                        </group>
						<group>
							<group>
                        		<field name="child_age" />
                        		<field name="child_gender" />
                        	</group>
                        	<group>
                        		<field name="emergancy_name" />
                        		<field name="emergancy_contact_tele" />
                        	</group>
                        </group>
                        <group>
                        	<field name="dietary_restrictions" widget="radio"/>
                        	<field name="dietary_restriction_details" attrs="{'invisible': [('dietary_restrictions', '=', False)]}" />
                        	<field name="child_medical_condition" />
                        	<field name="comments" />
                        </group>
                        
                        <notebook>
                            <page string="Pick up Infomation">
                        	 	<field name="pick_up_people_ids" required="0">
                        	 		<tree editable="bottom">
	                                    <field name="first_name"/>
	                                    <field name="last_name"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="Camp Dates Selection">
                        	 	<field name="camp_date_selection_ids" required="0">
                        	 		<tree editable="bottom">
	                                    <!--field name="name"/-->
	                                    <field name="week_id"/>
	                                    <field name="date"/>
	                                    <field name="slot"/>
                                    </tree>
                                </field>
                                <group name="total_days" col="6">
	                                <group class="oe_subtotal_footer oe_right" colspan="2" name="days_total">
	                                    <field name="total_camp_days"/>
	                                </group>
	                                <div class="oe_clear"/>
	                            </group>
                            </page>
                            <page string="Camp Information" >
	                            <group>
	                             	<group string="Camp Organizer Identification">
	                            		<field name="camp_organizer" style="width:100%%"/>
	                            		<field name="camp_organizer_phone" style="width:100%%"/>
	                            		<field name="camp_organizer_email" style="width:100%%"/>
                            		</group>
		                            <group string="Camp Host Information">
                                        <field name="camp_host_name"/>
	                            		<field name="camp_family_name" />
	                            		<field name="camp_email" />
	                            		<field name="camp_phone" />
	                            		<field name="camp_street" />
	                            		<field name="camp_city" />
	                            		<field name="camp_postal_code"/>
	                            		<field name="camp_location"/>
	                            		<field name="camp_rain_plan"/>
	                            		<field name="camp_first_date"/>
	                            		<field name="is_more_camp_host"/>
	                            	</group>
                            	</group>

                                <div class="oe_title">
									<table>
										<tr>
											<td style="width:10%">
                            					<field name='condition_one'/>
											</td>
											<td>
	   										<label for="condition_one" class="oe-edit-only"/>
										</td>
										</tr>
									</table>
								 </div>
								 <div class="oe_title">
									<table>
										<tr>
											<td style="width:10%">
                            					<field name='condition_two'/>
											</td>
											<td>
	   										<label for="condition_two" class="oe-edit-only"/>
										</td>
										</tr>
									</table>
								</div>
                            </page>
                            <page string="Terms and Conditions">
                            	<field name="terms_condition" style="width:100%%" readonly="1"/>
                            </page>

                        </notebook>
                	 </sheet>
                 </form>
             </field>
        </record>

		<record id="action_camp_registration" model="ir.actions.act_window">
            <field name="name">Camp Registration</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">camp.registration</field>
            <field name="view_mode">tree,form</field>
        </record>
	        
        <menuitem action="action_camp_registration" name="Camp Registration"
            id="action_camp_registration_menu" parent="Camp_registraion_main_menu"
            sequence="12"/>


	 	<record id="product_template_camp_view" model="ir.ui.view">
	        <field name="name">product.template.form - camp</field>
	        <field name="model">product.template</field>
	        <field name="inherit_id" ref="product.product_template_form_view"/>
	        <field name="arch" type="xml">
	            <xpath expr="//field[@name='type']" position="after">
	                <field name="camp_registration_product"/>
	            </xpath>
	        </field>
	    </record>

	</data>
</odoo>


